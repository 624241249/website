-- phpMyAdmin SQL Dump
-- version 4.2.9.1
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: 2014-10-13 17:22:21
-- 服务器版本： 5.5.34-0ubuntu0.13.04.1
-- PHP Version: 5.4.9-4ubuntu2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `thinkphp`
--

-- --------------------------------------------------------

--
-- 表的结构 `sk_article`
--

CREATE TABLE IF NOT EXISTS `sk_article` (
`id` int(11) NOT NULL,
  `title` varchar(2000) DEFAULT NULL,
  `summary` longtext,
  `body` longtext,
  `tag` varchar(200) DEFAULT NULL,
  `created` varchar(20) DEFAULT NULL,
  `type` varchar(20) DEFAULT NULL
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `sk_article`
--

INSERT INTO `sk_article` (`id`, `title`, `summary`, `body`, `tag`, `created`, `type`) VALUES
(1, 'ThinkPHP3.1快速入门（2）数据CURD', '上一篇中，我们了解了ThinkPHP的基础部分，以及如何创建一个控制器和模板，并知道了M方法的用法，本篇将会讲解下数据的CURD操作，探索下更多的数据操作。 ', '<p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">上一篇中，我们了解了ThinkPHP的基础部分，以及如何创建一个控制器和模板，并知道了M方法的用法，本篇将会讲解下数据的CURD操作，探索下更多的数据操作。&nbsp;</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     CURD </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">CURD是一个数据库技术中的缩写词，一般的项目开发的各种参数的基本功能都是CURD。它代表创建（Create）、更新（Update）、读取（Read）和删除（Delete）操作。CURD 定义了用于处理数据的基本原子操作。之所以将CURD 提升到一个技术难题的高度是因为完成一个涉及在多个数据库系统中进行CURD操作的汇总相关的活动，其性能可能会随数据关系的变化而有非常大的差异。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">CURD在具体的应用中并非一定使用create、update 、read和delete字样的方法，但是他们完成的功能是一致的。例如，ThinkPHP就是使用add、save、select和delete方法表示模型的CURD操作。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     创建数据 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">大多数情况下，CURD的Create操作通常会通过表单来提交数据，首先，我们在项目的Tpl/Form 目录下面创建一个add.html 模板文件，内容为：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="tag" style="color: rgb(0, 0, 136);">&lt;FORM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">method</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;post&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">action</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;__URL__/insert&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;text&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;title&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;br/&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;TEXTAREA</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;content&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">rows</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;5&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">cols</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;45&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;/TEXTAREA&gt;&lt;br/&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;submit&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;提交&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/FORM&gt;</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">然后，我们还需要在项目的Action目录下面创建一个FormAction.class.php文件，暂时只需要定义FormAction类，不需要添加任何操作方法，代码如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormAction</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Action</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">接下来，访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/add</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">就可以看到表单页面了，我们并没有在控制器里面定义add操作方法，但是很显然，访问是正常的。因为ThinkPHP在没有找到对应操作方法的情况下，会检查是否存在对应的模板文件，由于我们有对应的add模板文件，所以控制器就直接渲染该模板文件输出了。所以说对于没有任何实际逻辑的操作方法，我们只需要直接定义对应的模板文件就行了。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们可以看到，在表单中定义了提交地址是到Form模块的insert操作，为了处理表单提交数据，我们需要在FormAction类中添加insert操作方法，如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormAction</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Action</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;insert</span><span class="pun" style="color: rgb(102, 102, 0);">(){</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">create</span><span class="pun" style="color: rgb(102, 102, 0);">())</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$result</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">success</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;操作成功！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;写入错误！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getError</span><span class="pun" style="color: rgb(102, 102, 0);">());</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你的主键是自增类型的话，add方法的返回值就是该主键的值。不是自增主键的话，返回值表示插入数据的个数。如果返回false则表示写入出错。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     模型 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">为了方便测试，我们首先在数据库中创建一个think_form表：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">CREATE&nbsp;TABLE&nbsp;IF&nbsp;NOT&nbsp;EXISTS&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`think_form`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`id`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;smallint</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">4</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">unsigned</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL&nbsp;AUTO_INCREMENT</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`title`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;varchar</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">255</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`content`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;varchar</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">255</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`create_time`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">int</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">11</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">unsigned</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;PRIMARY&nbsp;KEY&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">`id`</span><span class="pun" style="color: rgb(102, 102, 0);">)</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;ENGINE</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="typ" style="color: rgb(102, 0, 102);">MyISAM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;DEFAULT&nbsp;CHARSET</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">utf8&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们在insert操作方法中用了D函数，和M函数不同，D函数需要有对应的模型类，下面我们就来创建模型类。模型类的定义规范是：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><strong style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);">模型名+Model.class.php</strong><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">&nbsp;（模型名的定义采用驼峰法并且首字母大写）</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们在项目的Lib/Model 目录下面创建FormModel.class.php文件，添加代码如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormModel</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Model</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;定义自动验证</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">protected</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$_validate&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;require&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;标题必须&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">),</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;定义自动完成</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">protected</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$_auto&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;create_time&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;time&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">1</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;function&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">),</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">主要是用于表单的自动验证和自动完成，具体用法我们会用另外的篇幅单独讲述，这里暂时先略过。我们只要了解的是，如果使用D函数实例化模型类，一般需要对应一个数据模型类，而且create方法会自动把表单提交的数据进行自动验证和自动完成（如果有定义的话），如果自动验证失败，就可以通过模型的getError方法获取验证提示信息，如果验证通过，就表示数据对象已经成功创建，但目前只是保存在内存中，直到我们调用add方法写入数据到数据库。这样就完成了一个完整的Create操作，所以可以看到ThinkPHP在创建数据的过程中使用了两步：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">第一步，create方法创建数据对象，</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">第二步，使用add方法把当前的数据对象写入数据库。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当然，你完全可以跨过第一步，直接进行第二步，但是这样的预处理有几个优势：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">1、无论表单有多复杂，create方法都可以用一行代码轻松创建数据对象；</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">2、在写入数据之前，可以对数据进行验证和补充；</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">其实create方法还有很多的功能操作，目的只有一个，确保写入数据库的数据安全和有效。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们来验证下表单提交的效果，当我们不输入标题就直接提交表单的话，系统会给出标题必须这样的提示信息。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><a href="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3dcbd15a8.jpg" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none; font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"><img src="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3dcbd15a8.jpg" style="margin: 10px 0px; padding: 0px; border: 0px; max-width: 688px;"/></a><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当我们顺利提交表单后，会看到写入数据表的数据中的create_time字段已经有值了，这就是通过模型的自动完成写入的。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><a href="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3e2036b84.jpg" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none; font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"><img src="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3e2036b84.jpg" style="margin: 10px 0px; padding: 0px; border: 0px; max-width: 688px;"/></a><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你的数据完全是内部操作写入而不是通过表单的话（也就是说可以充分信任数据的安全），那么可以直接使用add方法，如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;表单内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">也可以支持对象方式操作：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">title&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">content&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;表单内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">对象方式操作的时候，add方法无需传入数据，会自动识别当前的数据对象赋值。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     读取数据 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当我们成功写入数据后，就可以进行数据读取操作了。在前面一篇中，我们已经知道可以用select方法获取数据集，这里我们来通过find方法获取一个单一数据，定义read操作方法如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;read</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="lit" style="color: rgb(0, 102, 102);">0</span><span class="pun" style="color: rgb(102, 102, 0);">){</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;读取数据</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$data&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">find</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">data&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$data</span><span class="pun" style="color: rgb(102, 102, 0);">;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;模板变量赋值</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;数据错误&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">display</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">read操作方法有一个参数$id，表示我们可以接受URL里面的id变量（后面我们会在变量章节详细描述。这里之所以用M方法而没有用D方法，是因为find方法是基础模型类Model中的方法，所以没有必要浪费开销去实例化FormModel类（即使已经定义了FormModel类）。我们通常采用find方法读取某个数据，这里使用了AR模式来操作，所以没有传入查询条件，find($id) 表示读取主键为$id值的数据，find方法的返回值是一个如下格式的数组：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;测试标题&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;测试内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;status&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">1</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">)</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">然后我们可以在模板中输出数据，添加一个read模板文件，</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="tag" style="color: rgb(0, 0, 136);">&lt;table&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">id:</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.id}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.title}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.content}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/table&gt;</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">完成后，我们就可以访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/read/id/1</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">来查看了。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你只需要查询某个字段的值，还可以使用getField方法，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;获取标题&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$title&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=3&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getField</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">上面的用法表示获取id值为3的数据的title字段值。其实getField方法有很多用法，但是获取某个字段的值是getField方法最常规的用法。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">查询操作是最常用的操作，尤其是涉及到复杂的查询条件，我们会在查询语言一章对查询进行更加详细的讲解。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     更新数据 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">在成功写入并读取数据之后，我们就可以对数据进行编辑操作了，首先我们添加一个编辑表单的模板文件edit.html，如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;FORM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">method</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;post&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">action</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;__URL__/update&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;text&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;title&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;{$vo.title}&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;br/&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;TEXTAREA</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;content&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">rows</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;5&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">cols</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;45&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$vo.content}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/TEXTAREA&gt;&lt;br/&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;hidden&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;id&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;{$vo.id}&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;submit&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;提交&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/FORM&gt;</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">编辑模板不同于新增表单，需要对模板进行变量赋值，所以，我们这次需要在FormAction类添加两个操作方法：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;edit</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="lit" style="color: rgb(0, 102, 102);">0</span><span class="pun" style="color: rgb(102, 102, 0);">){</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">vo&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">find</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">display</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;update</span><span class="pun" style="color: rgb(102, 102, 0);">(){</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">create</span><span class="pun" style="color: rgb(102, 102, 0);">())</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$result</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">success</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;操作成功！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;写入错误！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getError</span><span class="pun" style="color: rgb(102, 102, 0);">());</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">完成后，我们就可以访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/edit/id/1</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">数据的更新操作在ThinkPHP使用save方法，可以看到，我们同样可以使用create方法创建表单提交的数据，而save方法则会自动把当前的数据对象更新到数据库，而更新的条件其实就是表的主键，这就是我们在编辑页面要把主键的值作为隐藏字段一起提交的原因。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果更新操作不依赖表单的提交的话，就可以写成：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">save方法会自动识别数据对象中的主键字段，并作为更新条件。当然，你也可以显式的传入更新条件：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">也可以改成对象方式来操作：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">title&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">content&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">数据对象赋值的方式，save方法无需传入数据，会自动识别。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">save方法的返回值是影响的记录数，如果返回false则表示更新出错。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">有些时候，我们只需要修改某个字段的值，就可以使用setField方法，而不需要每次都调用save方法。</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;更改title值</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setField</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">对于统计字段，系统还提供了更加方便的setInc和setDec方法。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;User&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;实例化User对象</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setInc</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">3</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分加3</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setInc</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分加1</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setDec</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分减5</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setDec</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分减1</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     删除数据 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">删除数据很简单，只需要调用delete方法，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">表示删除主键为5的数据，delete方法可以删除单个数据，也可以删除多个数据，这取决于删除条件，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$User&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;User&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;实例化User对象</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除id为5的用户数据</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;1,2,5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除主键为1,2和5的用户数据</span>             </p>         </li>         <li>             <p>                 <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;status=0&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除所有状态为0的用户数据</span>             </p>         </li>     </ol>     <p>         <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>     </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">delete方法的返回值是删除的记录数，如果返回值是false则表示SQL出错，返回值如果为0表示没有删除任何数据。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/> </p> <h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">     总结 </h2> <p>     <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">现在，你已经基本掌握了ThinkPHP的CURD操作了，并且学会了使用ThinkPHP的create、add、save和delete方法，还有两个对字段操作的getField和setField方法。下一篇，我们会更深入的了解下如何使用ThinkPHP提供的查询语言。</span> </p> <p>     AD：JobDeer-程序员从TCP协议得到灵感的创业项目，<a href="http://ghtools.sinaapp.com/thinkphp.html" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none;">点击查看详情</a> </p> <p>     <br/> </p>', 'thinkphp,数据库', '2014-10-11 10:04:45', 'article');
INSERT INTO `sk_article` (`id`, `title`, `summary`, `body`, `tag`, `created`, `type`) VALUES
(2, 'ThinkPHP3.1快速入门（2）数据CURD', '上一篇中，我们了解了ThinkPHP的基础部分，以及如何创建一个控制器和模板，并知道了M方法的用法，本篇将会讲解下数据的CURD操作，探索下更多的数据操作。 ', '<p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">上一篇中，我们了解了ThinkPHP的基础部分，以及如何创建一个控制器和模板，并知道了M方法的用法，本篇将会讲解下数据的CURD操作，探索下更多的数据操作。&nbsp;</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    CURD</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">CURD是一个数据库技术中的缩写词，一般的项目开发的各种参数的基本功能都是CURD。它代表创建（Create）、更新（Update）、读取（Read）和删除（Delete）操作。CURD 定义了用于处理数据的基本原子操作。之所以将CURD 提升到一个技术难题的高度是因为完成一个涉及在多个数据库系统中进行CURD操作的汇总相关的活动，其性能可能会随数据关系的变化而有非常大的差异。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">CURD在具体的应用中并非一定使用create、update 、read和delete字样的方法，但是他们完成的功能是一致的。例如，ThinkPHP就是使用add、save、select和delete方法表示模型的CURD操作。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    创建数据</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">大多数情况下，CURD的Create操作通常会通过表单来提交数据，首先，我们在项目的Tpl/Form 目录下面创建一个add.html 模板文件，内容为：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="tag" style="color: rgb(0, 0, 136);">&lt;FORM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">method</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;post&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">action</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;__URL__/insert&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;text&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;title&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;br/&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;TEXTAREA</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;content&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">rows</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;5&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">cols</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;45&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;/TEXTAREA&gt;&lt;br/&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;submit&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;提交&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/FORM&gt;</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">然后，我们还需要在项目的Action目录下面创建一个FormAction.class.php文件，暂时只需要定义FormAction类，不需要添加任何操作方法，代码如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormAction</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Action</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">接下来，访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/add</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">就可以看到表单页面了，我们并没有在控制器里面定义add操作方法，但是很显然，访问是正常的。因为ThinkPHP在没有找到对应操作方法的情况下，会检查是否存在对应的模板文件，由于我们有对应的add模板文件，所以控制器就直接渲染该模板文件输出了。所以说对于没有任何实际逻辑的操作方法，我们只需要直接定义对应的模板文件就行了。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们可以看到，在表单中定义了提交地址是到Form模块的insert操作，为了处理表单提交数据，我们需要在FormAction类中添加insert操作方法，如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormAction</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Action</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;insert</span><span class="pun" style="color: rgb(102, 102, 0);">(){</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">create</span><span class="pun" style="color: rgb(102, 102, 0);">())</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$result</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">success</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;操作成功！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;写入错误！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getError</span><span class="pun" style="color: rgb(102, 102, 0);">());</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你的主键是自增类型的话，add方法的返回值就是该主键的值。不是自增主键的话，返回值表示插入数据的个数。如果返回false则表示写入出错。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    模型</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">为了方便测试，我们首先在数据库中创建一个think_form表：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">CREATE&nbsp;TABLE&nbsp;IF&nbsp;NOT&nbsp;EXISTS&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`think_form`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`id`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;smallint</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">4</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">unsigned</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL&nbsp;AUTO_INCREMENT</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`title`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;varchar</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">255</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`content`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;varchar</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">255</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">`create_time`</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">int</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">11</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">unsigned</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;NOT&nbsp;NULL</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;PRIMARY&nbsp;KEY&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">`id`</span><span class="pun" style="color: rgb(102, 102, 0);">)</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;ENGINE</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="typ" style="color: rgb(102, 0, 102);">MyISAM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;DEFAULT&nbsp;CHARSET</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">utf8&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们在insert操作方法中用了D函数，和M函数不同，D函数需要有对应的模型类，下面我们就来创建模型类。模型类的定义规范是：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><strong style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);">模型名+Model.class.php</strong><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">&nbsp;（模型名的定义采用驼峰法并且首字母大写）</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们在项目的Lib/Model 目录下面创建FormModel.class.php文件，添加代码如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="kwd" style="color: rgb(0, 0, 136);">class</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">FormModel</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">extends</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="typ" style="color: rgb(102, 0, 102);">Model</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;定义自动验证</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">protected</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$_validate&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;require&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;标题必须&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">),</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;定义自动完成</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">protected</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$_auto&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;create_time&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;time&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">1</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;function&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">),</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">主要是用于表单的自动验证和自动完成，具体用法我们会用另外的篇幅单独讲述，这里暂时先略过。我们只要了解的是，如果使用D函数实例化模型类，一般需要对应一个数据模型类，而且create方法会自动把表单提交的数据进行自动验证和自动完成（如果有定义的话），如果自动验证失败，就可以通过模型的getError方法获取验证提示信息，如果验证通过，就表示数据对象已经成功创建，但目前只是保存在内存中，直到我们调用add方法写入数据到数据库。这样就完成了一个完整的Create操作，所以可以看到ThinkPHP在创建数据的过程中使用了两步：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">第一步，create方法创建数据对象，</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">第二步，使用add方法把当前的数据对象写入数据库。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当然，你完全可以跨过第一步，直接进行第二步，但是这样的预处理有几个优势：</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">1、无论表单有多复杂，create方法都可以用一行代码轻松创建数据对象；</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">2、在写入数据之前，可以对数据进行验证和补充；</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">其实create方法还有很多的功能操作，目的只有一个，确保写入数据库的数据安全和有效。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">我们来验证下表单提交的效果，当我们不输入标题就直接提交表单的话，系统会给出标题必须这样的提示信息。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><a href="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3dcbd15a8.jpg" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none; font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"><img src="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3dcbd15a8.jpg" style="margin: 10px 0px; padding: 0px; border: 0px; max-width: 688px;"/></a><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当我们顺利提交表单后，会看到写入数据表的数据中的create_time字段已经有值了，这就是通过模型的自动完成写入的。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><a href="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3e2036b84.jpg" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none; font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"><img src="http://www.thinkphp.cn/Uploads/editor/2012-08-30/503f3e2036b84.jpg" style="margin: 10px 0px; padding: 0px; border: 0px; max-width: 688px;"/></a><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你的数据完全是内部操作写入而不是通过表单的话（也就是说可以充分信任数据的安全），那么可以直接使用add方法，如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;表单内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">也可以支持对象方式操作：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">title&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">content&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;表单内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">add</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">对象方式操作的时候，add方法无需传入数据，会自动识别当前的数据对象赋值。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    读取数据</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">当我们成功写入数据后，就可以进行数据读取操作了。在前面一篇中，我们已经知道可以用select方法获取数据集，这里我们来通过find方法获取一个单一数据，定义read操作方法如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;read</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="lit" style="color: rgb(0, 102, 102);">0</span><span class="pun" style="color: rgb(102, 102, 0);">){</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;读取数据</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$data&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">find</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">data&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$data</span><span class="pun" style="color: rgb(102, 102, 0);">;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;模板变量赋值</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;数据错误&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">display</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">read操作方法有一个参数$id，表示我们可以接受URL里面的id变量（后面我们会在变量章节详细描述。这里之所以用M方法而没有用D方法，是因为find方法是基础模型类Model中的方法，所以没有必要浪费开销去实例化FormModel类（即使已经定义了FormModel类）。我们通常采用find方法读取某个数据，这里使用了AR模式来操作，所以没有传入查询条件，find($id) 表示读取主键为$id值的数据，find方法的返回值是一个如下格式的数组：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">array</span><span class="pun" style="color: rgb(102, 102, 0);">(</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;测试标题&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;测试内容&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;status&#39;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">1</span><span class="pun" style="color: rgb(102, 102, 0);">,</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">)</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">然后我们可以在模板中输出数据，添加一个read模板文件，</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="tag" style="color: rgb(0, 0, 136);">&lt;table&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">id:</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.id}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.title}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;td&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$data.content}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/td&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/tr&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/table&gt;</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">完成后，我们就可以访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/read/id/1</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">来查看了。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果你只需要查询某个字段的值，还可以使用getField方法，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;获取标题&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$title&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=3&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getField</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">上面的用法表示获取id值为3的数据的title字段值。其实getField方法有很多用法，但是获取某个字段的值是getField方法最常规的用法。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">查询操作是最常用的操作，尤其是涉及到复杂的查询条件，我们会在查询语言一章对查询进行更加详细的讲解。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    更新数据</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">在成功写入并读取数据之后，我们就可以对数据进行编辑操作了，首先我们添加一个编辑表单的模板文件edit.html，如下：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;FORM</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">method</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;post&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">action</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;__URL__/update&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;标题：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;text&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;title&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;{$vo.title}&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;&lt;br/&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;内容：</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;TEXTAREA</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;content&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">rows</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;5&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">cols</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;45&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">{$vo.content}</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/TEXTAREA&gt;&lt;br/&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;hidden&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">name</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;id&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;{$vo.id}&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;INPUT</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">type</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;submit&quot;</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="atn" style="color: rgb(102, 0, 102);">value</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="atv" style="color: rgb(0, 136, 0);">&quot;提交&quot;</span><span class="tag" style="color: rgb(0, 0, 136);">&gt;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;</span><span class="tag" style="color: rgb(0, 0, 136);">&lt;/FORM&gt;</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">编辑模板不同于新增表单，需要对模板进行变量赋值，所以，我们这次需要在FormAction类添加两个操作方法：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;edit</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="lit" style="color: rgb(0, 102, 102);">0</span><span class="pun" style="color: rgb(102, 102, 0);">){</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">vo&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">find</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$id</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">display</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">public</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">function</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;update</span><span class="pun" style="color: rgb(102, 102, 0);">(){</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$Form&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;D</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">create</span><span class="pun" style="color: rgb(102, 102, 0);">())</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">();</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd" style="color: rgb(0, 0, 136);">if</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$result</span><span class="pun" style="color: rgb(102, 102, 0);">)</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">success</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;操作成功！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;写入错误！&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span><span class="kwd" style="color: rgb(0, 0, 136);">else</span><span class="pun" style="color: rgb(102, 102, 0);">{</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">error</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">getError</span><span class="pun" style="color: rgb(102, 102, 0);">());</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">}</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">完成后，我们就可以访问</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">http</span><span class="pun" style="color: rgb(102, 102, 0);">:</span><span class="com" style="color: rgb(136, 0, 0);">//localhost/app/index.php/Form/edit/id/1</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">数据的更新操作在ThinkPHP使用save方法，可以看到，我们同样可以使用create方法创建表单提交的数据，而save方法则会自动把当前的数据对象更新到数据库，而更新的条件其实就是表的主键，这就是我们在编辑页面要把主键的值作为隐藏字段一起提交的原因。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">如果更新操作不依赖表单的提交的话，就可以写成：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">save方法会自动识别数据对象中的主键字段，并作为更新条件。当然，你也可以显式的传入更新条件：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">[</span><span class="str" style="color: rgb(0, 136, 0);">&#39;content&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">]</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="pln" style="color: rgb(0, 0, 0);">$data</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">也可以改成对象方式来操作：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;要修改的数据对象属性赋值</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">title&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">content&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP3.1版本发布&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">save</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;根据条件保存修改的数据</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">数据对象赋值的方式，save方法无需传入数据，会自动识别。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">save方法的返回值是影响的记录数，如果返回false则表示更新出错。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">有些时候，我们只需要修改某个字段的值，就可以使用setField方法，而不需要每次都调用save方法。</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;Form&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;更改title值</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setField</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;title&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="str" style="color: rgb(0, 136, 0);">&#39;ThinkPHP&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">对于统计字段，系统还提供了更加方便的setInc和setDec方法。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;User&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;实例化User对象</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setInc</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">3</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分加3</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setInc</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分加1</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setDec</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">,</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分减5</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="pln" style="color: rgb(0, 0, 0);">setDec</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;score&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;用户的积分减1</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    删除数据</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">删除数据很简单，只需要调用delete方法，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;Form&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$Form</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="lit" style="color: rgb(0, 102, 102);">5</span><span class="pun" style="color: rgb(102, 102, 0);">);</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">表示删除主键为5的数据，delete方法可以删除单个数据，也可以删除多个数据，这取决于删除条件，例如：</span><code class="prettyprint linenums lang-php prettyprinted" style="position: relative; border: 1px solid rgb(209, 215, 220); padding: 2px; font-size: 14px; display: block; font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace, 微软雅黑; margin: 10px 0px; white-space: normal; word-wrap: break-word; color: rgb(50, 50, 50); background-color: rgb(255, 255, 255);"><ol class="linenums list-paddingleft-2" style="margin-left: 40px; padding: 0px; line-height: 1.8; color: rgb(43, 165, 216); list-style-position: outside; list-style-image: initial;">        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$User&nbsp;</span><span class="pun" style="color: rgb(102, 102, 0);">=</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;M</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&quot;User&quot;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;实例化User对象</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;id=5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除id为5的用户数据</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;1,2,5&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">);</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除主键为1,2和5的用户数据</span>            </p>        </li>        <li>            <p>                <span class="pln" style="color: rgb(0, 0, 0);">$User</span><span class="pun" style="color: rgb(102, 102, 0);">-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">where</span><span class="pun" style="color: rgb(102, 102, 0);">(</span><span class="str" style="color: rgb(0, 136, 0);">&#39;status=0&#39;</span><span class="pun" style="color: rgb(102, 102, 0);">)-&gt;</span><span class="kwd" style="color: rgb(0, 0, 136);">delete</span><span class="pun" style="color: rgb(102, 102, 0);">();</span><span class="pln" style="color: rgb(0, 0, 0);">&nbsp;</span><span class="com" style="color: rgb(136, 0, 0);">//&nbsp;删除所有状态为0的用户数据</span>            </p>        </li>    </ol>    <p>        <span style="display: inline-block; width: 80px; height: 27px;">复制代码</span>    </p></code><span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">delete方法的返回值是删除的记录数，如果返回值是false则表示SQL出错，返回值如果为0表示没有删除任何数据。</span><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><h2 style="margin: 0px; padding: 0px; color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; white-space: normal; background-color: rgb(255, 255, 255);">    总结</h2><p>    <span style="color: rgb(50, 50, 50); font-family: &#39;Century Gothic&#39;, &#39;Microsoft yahei&#39;; line-height: 28.7999992370605px; background-color: rgb(255, 255, 255);">现在，你已经基本掌握了ThinkPHP的CURD操作了，并且学会了使用ThinkPHP的create、add、save和delete方法，还有两个对字段操作的getField和setField方法。下一篇，我们会更深入的了解下如何使用ThinkPHP提供的查询语言。</span></p><p>    AD：JobDeer-程序员从TCP协议得到灵感的创业项目，<a href="http://ghtools.sinaapp.com/thinkphp.html" target="_blank" style="color: rgb(114, 185, 57); text-decoration: none;">点击查看详情</a></p><p>    <br/></p>', 'thinkphp,数据库,CURD', '2014-10-11 10:04:45', 'article');
INSERT INTO `sk_article` (`id`, `title`, `summary`, `body`, `tag`, `created`, `type`) VALUES
(3, '关于我', NULL, '关于我哦', NULL, NULL, 'about');

-- --------------------------------------------------------

--
-- 表的结构 `sk_comment`
--

CREATE TABLE IF NOT EXISTS `sk_comment` (
`id` int(11) NOT NULL,
  `username` varchar(2000) NOT NULL,
  `email` varchar(2000) NOT NULL,
  `website` varchar(2000) NOT NULL,
  `content` longtext NOT NULL,
  `postdate` varchar(2000) NOT NULL,
  `commentid` int(11) NOT NULL,
  `articleid` int(11) NOT NULL
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- 表的结构 `sk_meta`
--

CREATE TABLE IF NOT EXISTS `sk_meta` (
`id` int(11) NOT NULL,
  `meta_key` varchar(200) CHARACTER SET utf8 NOT NULL,
  `meta_value` varchar(200) CHARACTER SET utf8 NOT NULL,
  `type` varchar(20) CHARACTER SET utf8 NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- 表的结构 `sk_option`
--

CREATE TABLE IF NOT EXISTS `sk_option` (
  `id` bigint(20) unsigned NOT NULL,
  `meta_key` varchar(20) DEFAULT NULL,
  `meta_value` varchar(255) DEFAULT NULL,
  `type` varchar(20) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `sk_option`
--

INSERT INTO `sk_option` (`id`, `meta_key`, `meta_value`, `type`) VALUES
(1, 'theme', 'default', 'public'),
(2, 'site_name', '我的小站', 'public');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `sk_article`
--
ALTER TABLE `sk_article`
 ADD PRIMARY KEY (`id`);

--
-- Indexes for table `sk_comment`
--
ALTER TABLE `sk_comment`
 ADD PRIMARY KEY (`id`), ADD KEY `fk_comment_commentid` (`commentid`);

--
-- Indexes for table `sk_meta`
--
ALTER TABLE `sk_meta`
 ADD PRIMARY KEY (`id`);

--
-- Indexes for table `sk_option`
--
ALTER TABLE `sk_option`
 ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `sk_article`
--
ALTER TABLE `sk_article`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `sk_comment`
--
ALTER TABLE `sk_comment`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=23;
--
-- AUTO_INCREMENT for table `sk_meta`
--
ALTER TABLE `sk_meta`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `sk_option`
--
ALTER TABLE `sk_option`
AUTO_INCREMENT=21;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
